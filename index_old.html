
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Names & Phone Numbers</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Search Names & Phone Numbers</h1>
    <input type="text" id="searchBox" placeholder="Search by name or phone number...">
    <button id="searchButton">Search</button>
    <ul id="results"></ul>
    
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            let data = [];

            function fetchData() {
                fetch("data.json")
                    .then(response => {
                        if (!response.ok) {
                            throw new Error("Failed to load data.json");
                        }
                        return response.json();
                    })
                    .then(json => {
                        data = json;
                        console.log("Data loaded successfully");
                    })
                    .catch(error => {
                        console.error("Error loading data:", error);
                        alert("Failed to load data. Please ensure data.json is available.");
                    });
            }

            function performSearch() {
                if (data.length === 0) {
                    alert("Data is still loading or unavailable.");
                    return;
                }
                const query = document.getElementById("searchBox").value.toLowerCase();
                const results = data.filter(item =>
                    item.Name.toLowerCase().includes(query) || 
                    item.Phone_Number.includes(query)
                );
                displayResults(results);
            }

            function displayResults(results) {
                const resultsList = document.getElementById("results");
                resultsList.innerHTML = results.length > 0 ? results.map(item =>
                    `<li>
                        <strong>CIF:</strong> ${item.CIF}<br>
                        <strong>Name:</strong> ${item.Name}<br>
                        <strong>Address:</strong> ${item.Address}<br>
                        <strong>Phone Number:</strong> ${item.Phone_Number}
                    </li>`).join("") : "<li>No results found</li>";
            }

            document.getElementById("searchBox").addEventListener("input", performSearch);
            document.getElementById("searchButton").addEventListener("click", performSearch);

            fetchData();
        });
    </script>
</body>
</html>
